import{r as V}from"./iframe-CunbGj8a.js";var I={exports:{}},l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k;function N(){if(k)return l;k=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(d,t,e){var o=null;if(e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),"key"in t){e={};for(var r in t)r!=="key"&&(e[r]=t[r])}else e=t;return t=e.ref,{$$typeof:n,type:d,key:o,ref:t!==void 0?t:null,props:e}}return l.Fragment=i,l.jsx=s,l.jsxs=s,l}var R;function O(){return R||(R=1,I.exports=N()),I.exports}var Z=O();const D=async(n,i,s)=>{var c;const d=s||n.getRoot().getDefaultGeometry();await n.downloadAecModelData();const t=d.getAecModelData(),e=t&&t.refPointTransformation;let o=(c=i.model)==null?void 0:c.getData().globalOffset;const r=e?new THREE.Vector3(e[9],e[10],e[11]):new THREE.Vector3(0,0,0),p=4e6,a=o&&THREE.Vector3.prototype.distanceToSquared.call(r,o);return(!o||a>p)&&(o=new THREE.Vector3().copy(r)),o},h=({urn:n,accessToken:i,viewableId:s,useSharedCoordinateSystem:d})=>{const t=V.useRef(null);return typeof window>"u"?null:(V.useEffect(()=>{if(typeof window>"u")return;let e;async function o(){await U();const r={env:"AutodeskProduction",accessToken:i};Autodesk.Viewing.Initializer(r,()=>{e=new Autodesk.Viewing.GuiViewer3D(t.current),e.start();const p=`urn:${n}`;Autodesk.Viewing.Document.load(p,async a=>{const c=a.getRoot().getNamedViews().find(m=>m.data.name==="Default View"),w=a.getRoot().getNamedViews().find(m=>m.data.name==="New Construction"),f=a.getRoot().getDefaultGeometry(),x=await D(a,e,c||w||f);await e.loadDocumentNode(a,c||w||f,{applyRefPoint:d,keepCurrentModels:!0,globalOffset:d?x:{x:0,y:0,z:0}})})})}return o().then(r=>console.log("viewer loaded",r)),()=>e==null?void 0:e.finish()},[n,i]),Z.jsx("div",{ref:t,style:{width:"100%",height:"100%"}}))};async function U(){if(window.Autodesk)return;const n=document.createElement("script");n.src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js",document.head.appendChild(n);const i=document.createElement("link");i.href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css",i.rel="stylesheet",document.head.appendChild(i),await new Promise(s=>{n.onload=s})}h.__docgenInfo={description:"",methods:[],displayName:"AutodeskViewer",props:{urn:{required:!0,tsType:{name:"string"},description:""},accessToken:{required:!0,tsType:{name:"string"},description:""},viewableId:{required:!1,tsType:{name:"string"},description:""},useSharedCoordinateSystem:{required:!1,tsType:{name:"boolean"},description:""}}};const X={title:"Components/AutodeskViewer",component:h,parameters:{layout:"fullscreen"}},u={args:{urn:"dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLnRMT20wUTMxUmVpcWRXS3lsWUVfcHc_dmVyc2lvbj0yMA",accessToken:`eyJhbGciOiJSUzI1NiIsImtpZCI6IlZiakZvUzhQU3lYODQyMV95dndvRUdRdFJEa19SUzI1NiIsInBpLmF0bSI6ImFzc2MifQ.eyJzY29wZSI6WyJkYXRhOnJlYWQiXSwiY2xpZW50X2lkIjoiMEc2S0FLWkdUVFB4YzN4SVJidm1XQWh2MHlDT216d0dLQnVRZGZzR1M2UUdLU0NiIiwiaXNzIjoiaHR0cHM6Ly9kZXZlbG9wZXIuYXBpLmF1dG9kZXNrLmNvbSIsImF1ZCI6Imh0dHBzOi8vYXV0b2Rlc2suY29tIiwianRpIjoiUkhMWnJOWUdtMnFra1JxajFQeThzNWwyUk1DZ0k3NTdMNDluTG9QWDhYWHo1cHpLQkdteU5xWHc0akppb1dVdyIsInVzZXJpZCI6IjVNMzNSTVk4V1VDWiIsImV4cCI6MTc1NTE2MTQ1NX0.W_ZsOjcJPZXp1qVAET-OMOc2h7el-8Jp1D3pgGRn1QTzqMrovkiaCfxjBdB4Fd3FYGo6HZYO4nleE8hV0qRSUvzD7KRmgODlZ_Ijap0ZaD1q85lXda6-
3v972nnkLDMx0nbkWLPINthAxcMb2wbcPTxFLDrUaAsCOcf03M7PXSrLQPhF03PO6mGGCfKAQNsWYBqmhHCVBwz0dA4Nm8F2vVTNaKXkjxtIOUjhRA5kxgKsN3lp2-R5VeW26vQEDHC0XTqx5FbLooQ8Rcltc8X-deOg18JB2b8Lo5Cgq3kOm-p7UV0If3t35BhaSW2P1Pd-ep8jdOOMIwiUIlHiBS5wCw\\`}};var M,v,T;u.parameters={...u.parameters,docs:{...(M=u.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    urn: 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLnRMT20wUTMxUmVpcWRXS3lsWUVfcHc_dmVyc2lvbj0yMA',
    accessToken: "eyJhbGciOiJSUzI1NiIsImtpZCI6IlZiakZvUzhQU3lYODQyMV95dndvRUdRdFJEa19SUzI1NiIsInBpLmF0bSI6ImFzc2MifQ.eyJzY29wZSI6WyJkYXRhOnJlYWQiXSwiY2xpZW50X2lkIjoiMEc2S0FLWkdUVFB4YzN4SVJidm1XQWh2MHlDT216d0dLQnVRZGZzR1M2UUdLU0NiIiwiaXNzIjoiaHR0cHM6Ly9kZXZlbG9wZXIuYXBpLmF1dG9kZXNrLmNvbSIsImF1ZCI6Imh0dHBzOi8vYXV0b2Rlc2suY29tIiwianRpIjoiUkhMWnJOWUdtMnFra1JxajFQeThzNWwyUk1DZ0k3NTdMNDluTG9QWDhYWHo1cHpLQkdteU5xWHc0akppb1dVdyIsInVzZXJpZCI6IjVNMzNSTVk4V1VDWiIsImV4cCI6MTc1NTE2MTQ1NX0.W_ZsOjcJPZXp1qVAET-OMOc2h7el-8Jp1D3pgGRn1QTzqMrovkiaCfxjBdB4Fd3FYGo6HZYO4nleE8hV0qRSUvzD7KRmgODlZ_Ijap0ZaD1q85lXda6-\\n3v972nnkLDMx0nbkWLPINthAxcMb2wbcPTxFLDrUaAsCOcf03M7PXSrLQPhF03PO6mGGCfKAQNsWYBqmhHCVBwz0dA4Nm8F2vVTNaKXkjxtIOUjhRA5kxgKsN3lp2-R5VeW26vQEDHC0XTqx5FbLooQ8Rcltc8X-deOg18JB2b8Lo5Cgq3kOm-p7UV0If3t35BhaSW2P1Pd-ep8jdOOMIwiUIlHiBS5wCw\\\\"
  }
}`,...(T=(v=u.parameters)==null?void 0:v.docs)==null?void 0:T.source}}};const y=["Default"];export{u as Default,y as __namedExportsOrder,X as default};
